CONFIG_ZMK_KEYBOARD_NAME="Corne KB"

# --- ENCODER ---
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# --- DISPLAY (Die stabilste Variante für nice!view) ---
CONFIG_ZMK_DISPLAY=y
CONFIG_ZMK_DISPLAY_STATUS_SCREEN_BUILT_IN=y
CONFIG_ZMK_DISPLAY_STATUS_SCREEN_CUSTOM=n

# Das hier ist der entscheidende Unterschied:
# Wir schalten die Invertierung AUS und nutzen nur das Shield-Layout
CONFIG_NICE_VIEW_WIDGET_INVERTED=n 
# (Falls es dann falsch herum ist, drehen wir das Shield physisch oder 
# nutzen eine Keymap-Anweisung, die erst später lädt)

# Entlastet den SPI-Bus massiv:
CONFIG_ZMK_DISPLAY_WORK_QUEUE_SYSTEM=y

# --- AKKU-SYNC (Damit rechts auch angezeigt wird) ---
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y

# --- BLUETOOTH & USB STABILITÄT ---
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=n

# --- RGB ---
CONFIG_ZMK_RGB_UNDERGLOW=y
CONFIG_WS2812_STRIP=y
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=n

# Zwingt USB zur Initialisierung, bevor das Display zu viel Last erzeugt
CONFIG_ZMK_USB=y
CONFIG_ZMK_USB_BOOT=y

# Hilft dem nice!nano zu erkennen, dass Strom vom Kabel kommt
CONFIG_USB_DEVICE_VID=0x1D50
CONFIG_USB_DEVICE_PID=0x615E

# Deaktiviert das Logging über USB (das blockiert oft den Handshake)
CONFIG_ZMK_USB_LOGGING=n

# Reduziert die Display-Last beim Booten
CONFIG_ZMK_DISPLAY_WORK_QUEUE_DEDICATED=n
